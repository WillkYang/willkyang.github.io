<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>MySQLä»‹ç»å’Œå®è·µæ€»ç»“ | WillkYang</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="ç²¤ICPå¤‡20071436å·-1">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="MySQLä»‹ç»å’Œå®è·µæ€»ç»“ | WillkYang">
    <meta name="twitter:description" content="ç²¤ICPå¤‡20071436å·-1">

    <meta property="og:type" content="article">
    <meta property="og:title" content="MySQLä»‹ç»å’Œå®è·µæ€»ç»“ | WillkYang">
    <meta property="og:description" content="ç²¤ICPå¤‡20071436å·-1">

    
    <meta name="author" content="WillkYang">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/usericon.png">
    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="WillkYang" href="/atom.xml">
    

    <link rel="canonical" href="http://yoursite.com/posts/MySQLä»‹ç»å’Œå®è·µæ€»ç»“.html"/>

                 
</head>

<body class="home-template no-js">
    <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/cover.webp)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="å‰å¾€ WillkYang çš„ä¸»é¡µ"><img src="/images/usericon.png" width="80" alt="WillkYang logo" class="panel-cover__logo logo"></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for WillkYang">WillkYang</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">Hi there, I am a developer ğŸ‘‹</span>
        
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">ç²¤ICPå¤‡20071436å·-1</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="è®¿é—®åšå®¢" class="blog-button">åšå®¢</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/willkyang" title="æŸ¥çœ‹æˆ‘çš„GitHubä¸»é¡µ" target="_blank">
      <i class="social fa fa-github"></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  

  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class="social fa fa-rss"></i>
      <span class="label">RSS</span>
    </a>
  </li>



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-slate"></div>
  </div> 
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2017-09-11T02:06:18.000Z" class="post-list__meta--date date">2017-09-11</time> &#8226; <span class="post-meta__tags tags">äº&nbsp;
  <a class="tag-link" href="/all-tags/Linux/">Linux</a>
 </span>
      <span class="page-pv">
      &nbsp;é˜…è¯»&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>
      </span> 
   
    </div>
    <h1 class="post-title">MySQLä»‹ç»å’Œå®è·µæ€»ç»“</h1>
  </header>

  <section class="post">
    <blockquote>
<p>æœ¬æ–‡é¦–å…ˆä»‹ç»MySQLçš„å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨ã€è¿›é˜¶æ“ä½œã€è®²è§£MySQLçš„å¯¼å…¥å¯¼å‡ºå’Œè‡ªåŠ¨å¤‡ä»½ï¼Œç„¶åä»‹ç»å®‰å…¨æ¨¡å¼ä¿®æ”¹å¯†ç å’ŒMySQLçš„å…¨æ–‡æœ¬æœç´¢åŠŸèƒ½ï¼Œæœ€åè®°å½•äº†ä¸ªäººä½¿ç”¨MySQLä¸­é‡åˆ°çš„é—®é¢˜é›†ã€‚</p>
</blockquote>
<p><img src="http://ou0bp2mrg.bkt.clouddn.com/2017-09-11-15050957075550.jpg" alt=""></p>
<h3 id="å¼€å§‹å®‰è£…ï¼š"><a href="#å¼€å§‹å®‰è£…ï¼š" class="headerlink" title="å¼€å§‹å®‰è£…ï¼š"></a>å¼€å§‹å®‰è£…ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mysql-common mysql-server</span><br></pre></td></tr></table></figure>
<h3 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h3><p>å»ºåº“</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE IF NOT EXISTS yourdbname DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</span><br></pre></td></tr></table></figure>
<p>å»ºè¡¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create table MyClass(id int(4) not null primary key auto_increment,name char(20) not null,sex int(4) not null default &apos;0&apos;,degree double(16,2));</span><br></pre></td></tr></table></figure>
<p>å¢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into MyClass values(1,&apos;Tom&apos;,96.45),(2,&apos;Joan&apos;,82.99), (2,&apos;Wang&apos;, 96.59);</span><br></pre></td></tr></table></figure>
<p>åˆ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from MyClass where id=1;</span><br></pre></td></tr></table></figure>
<p>æ”¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update MyClass set name=&apos;Mary&apos; where id=1;</span><br></pre></td></tr></table></figure>
<p>æŸ¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from MyClass;</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç¤ºæ‰€æœ‰çš„view</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from information_schema.TABLES where table_type=&apos;view&apos; AND table_schema = &apos;æ•°æ®åº“å&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="è¿›ä¸€æ­¥æ“ä½œ"><a href="#è¿›ä¸€æ­¥æ“ä½œ" class="headerlink" title="è¿›ä¸€æ­¥æ“ä½œ"></a>è¿›ä¸€æ­¥æ“ä½œ</h3><p>åˆ›å»ºç”¨æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user xxx identified by â€˜passwordâ€™;</span><br></pre></td></tr></table></figure>
<p>é‡å‘½åï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename user aaa to bbbï¼›</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤ç”¨æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop user aaa;</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç¤ºæƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show grants for aaa(ç”¨æˆ·);</span><br></pre></td></tr></table></figure>
<p>æˆäºˆæƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant select on xxx(æ•°æ®åº“).* to aaa(ç”¨æˆ·);</span><br></pre></td></tr></table></figure>
<p>æˆäºˆæŸä¸ªæ•°æ®åº“çš„å…¨éƒ¨æƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grant all on  xxx(æ•°æ®åº“).* to aaa(ç”¨æˆ·);</span><br><span class="line">grant all on  xxx(æ•°æ®åº“).* to aaa(ç”¨æˆ·)@localhost;</span><br></pre></td></tr></table></figure>
<p>å–æ¶ˆæˆæƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">revoke all on *.* from aaa(ç”¨æˆ·)@localhost;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹æƒé™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;%â€™   WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ“ä½œå®Œæˆä¹‹åè®°å¾—åˆ·æ–°æƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>
<h3 id="å¯¼å…¥å¯¼å‡º"><a href="#å¯¼å…¥å¯¼å‡º" class="headerlink" title="å¯¼å…¥å¯¼å‡º"></a>å¯¼å…¥å¯¼å‡º</h3><p>å¯¼å‡ºæ•°æ®å’Œè¡¨ç»“æ„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -p abc(æ•°æ®åº“å) &gt; abc.sql</span><br><span class="line">æ•²å›è½¦åè¾“å…¥å¯†ç </span><br></pre></td></tr></table></figure>
<p>åªå¯¼å‡ºè¡¨ç»“æ„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -p -d abc &gt; abc.sql</span><br></pre></td></tr></table></figure>
<p>å¯¼å…¥æ•°æ®åº“<br>1ã€é¦–å…ˆå»ºç©ºæ•°æ®åº“</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database abc;</span><br></pre></td></tr></table></figure>
<p>2ã€å¯¼å…¥æ•°æ®åº“</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p abc(æ•°æ®åº“å) &lt; abc.sql</span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®åº“è‡ªåŠ¨å¤‡ä»½"><a href="#æ•°æ®åº“è‡ªåŠ¨å¤‡ä»½" class="headerlink" title="æ•°æ®åº“è‡ªåŠ¨å¤‡ä»½"></a>æ•°æ®åº“è‡ªåŠ¨å¤‡ä»½</h3><p>æ–°å»ºå¤‡ä»½è„šæœ¬xxx.sh,è¾“å…¥ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># è¦å¤‡ä»½çš„æ•°æ®åº“åï¼Œå¤šä¸ªæ•°æ®åº“ç”¨ç©ºæ ¼åˆ†å¼€</span><br><span class="line">databases=(&quot;db1&quot;, &quot;db2&quot;) </span><br><span class="line"></span><br><span class="line"># å¤‡ä»½æ–‡ä»¶è¦ä¿å­˜çš„ç›®å½•ï¼Œæ³¨æ„å½“å‰ç”¨æˆ·å¿…é¡»ç”¨æˆ·ä¿å­˜ç›®å½•çš„è¯»å†™æƒé™</span><br><span class="line">basepath=&apos;/root/backup/mysql/&apos;</span><br><span class="line"></span><br><span class="line">if [ ! -d &quot;$basepath&quot; ]; then</span><br><span class="line">  mkdir -p &quot;$basepath&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># å¾ªç¯databasesæ•°ç»„</span><br><span class="line">for db in $&#123;databases[*]&#125;</span><br><span class="line">  do</span><br><span class="line">    # å¤‡ä»½æ•°æ®åº“ç”ŸæˆSQLæ–‡ä»¶</span><br><span class="line">    nice -n 19 /usr/bin/mysqldump -uroot -pcd32d5e86e --database $db &gt; $basepath$db-$(date +%Y%m%d).sql</span><br><span class="line">    </span><br><span class="line">    # å°†ç”Ÿæˆçš„SQLæ–‡ä»¶å‹ç¼©</span><br><span class="line">    nice -n 19 tar zPcf $basepath$db-$(date +%Y%m%d).sql.tar.gz -C $basepath $db-$(date +%Y%m%d).sql</span><br><span class="line">    </span><br><span class="line">    # åˆ é™¤7å¤©ä¹‹å‰çš„å¤‡ä»½æ•°æ®</span><br><span class="line">    find $basepath -mtime +7 -name &quot;*.sql.tar.gz&quot; -exec rm -rf &#123;&#125; \;</span><br><span class="line">  done</span><br><span class="line"></span><br><span class="line">  # åˆ é™¤ç”Ÿæˆçš„SQLæ–‡ä»¶</span><br><span class="line">  rm -rf $basepath/*.sql</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨crontabè®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œåœ¨ç»ˆç«¯è¾“å…¥crontab -eï¼ŒåŠ å…¥ä»¥ä¸‹å†…å®¹ï¼Œæ­¤ä»»åŠ¡ä¸ºæ¯å¤©3ç‚¹è‡ªåŠ¨æ‰§è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 3 * * * bash xxx.sh(æ­¤å¤„å¡«å†™è„šæœ¬ç»å¯¹åœ°å€)</span><br></pre></td></tr></table></figure>
<h3 id="å¼€å¯æ—¥å¿—è®°å½•"><a href="#å¼€å¯æ—¥å¿—è®°å½•" class="headerlink" title="å¼€å¯æ—¥å¿—è®°å½•"></a>å¼€å¯æ—¥å¿—è®°å½•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">server-id = 1</span><br><span class="line">log_bin = /var/log/mysql/mysql-bin.log</span><br><span class="line">max_binlog_size = 1000M</span><br><span class="line">binlog-format = row</span><br></pre></td></tr></table></figure>
<h3 id="å®‰å…¨æ¨¡å¼æ“ä½œ"><a href="#å®‰å…¨æ¨¡å¼æ“ä½œ" class="headerlink" title="å®‰å…¨æ¨¡å¼æ“ä½œ"></a>å®‰å…¨æ¨¡å¼æ“ä½œ</h3><p>è¿›å…¥å®‰å…¨æ¨¡å¼ä¿®æ”¹å¯†ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqld_safe --skip-grant-tables &amp;</span><br><span class="line"></span><br><span class="line">select user,host,password from user where user=&quot;root&quot;</span><br></pre></td></tr></table></figure>
<p>ä¸åŒç‰ˆæœ¬çš„mysqlä¿®æ”¹ç”¨æˆ·å¯†ç æ–¹å¼ä¸ä¸€æ ·,éœ€è¦æŸ¥çœ‹mysql-&gt;userä¸­çš„å¯†ç å­—æ®µï¼Œå¦‚æœä¸æ˜¯passwordçš„è¯å°±æ˜¯authentication_stringã€‚</p>
<p>authentication_stringçš„ä¿®æ”¹æ–¹å¼ä¸å¤ªä¸€æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line">update user set authentication_string=PASSWORD(&quot;&quot;) where User=&apos;root&apos;;</span><br><span class="line">update user set plugin=&quot;mysql_native_password&quot;;</span><br><span class="line">flush privileges;</span><br><span class="line">quit;</span><br><span class="line">sudo /etc/init.d/mysql stop</span><br><span class="line">sudo /etc/init.d/mysql start</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸æ˜¯authentication_stringï¼Œåˆ™å¯ç”¨ä»¥ä¸‹æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update user set password=PASSWORD(&quot;your_password&quot;) where user=&quot;root&quot; and host=â€œlocalhost&quot;</span><br></pre></td></tr></table></figure>
<h3 id="æ–°æ“ä½œ"><a href="#æ–°æ“ä½œ" class="headerlink" title="æ–°æ“ä½œ"></a>æ–°æ“ä½œ</h3><p>Mysqlå…¨æ–‡æœ¬æœç´¢</p>
<blockquote>
<p>Mysql5.6ä¹‹åæ”¯æŒInnoDBï¼Œä¸­æ–‡çš„å…¨æ–‡æœ¬æœç´¢ï¼Œå†…ç½®ä½¿ç”¨n-gramä¸ºåˆ†è¯å¤„ç†å™¨ï¼Œè¿˜æ”¯æŒä¸­æ–‡ï½ã€‚</p>
</blockquote>
<p>åˆ›å»ºç´¢å¼•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create fulltext index ngram_idx on tag(Title) with parser ngram;</span><br><span class="line">æˆ–</span><br><span class="line">alter table tag add fulltext index ngram_idx(Title) with parser ngram;</span><br></pre></td></tr></table></figure>
<p>è·å–æ”¯æŒçš„æœ€å°åˆ†è¯é•¿åº¦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SHOW VARIABLES LIKE &apos;ft_min_word_len&apos;;</span><br><span class="line">//unixç³»ç»Ÿå¯åœ¨/etc/my.cnfä¸­ä¿®æ”¹</span><br><span class="line">[mysqld]</span><br><span class="line">ft_min_word_len = 1</span><br></pre></td></tr></table></figure>
<p>å¼€å§‹ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select Title,match(Title) against(&apos;æ¸…æ°´&apos;) from tag ;</span><br></pre></td></tr></table></figure>
<h3 id="å¯èƒ½å‡ºç°çš„é—®é¢˜é›†ï¼š"><a href="#å¯èƒ½å‡ºç°çš„é—®é¢˜é›†ï¼š" class="headerlink" title="å¯èƒ½å‡ºç°çš„é—®é¢˜é›†ï¼š"></a>å¯èƒ½å‡ºç°çš„é—®é¢˜é›†ï¼š</h3><ul>
<li>æè¿°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2017-05-04T01:21:32.004560Z mysqld_safe Logging to &apos;/var/log/mysql/error.log&apos;.</span><br><span class="line">2017-05-04T01:21:32.023009Z mysqld_safe A mysqld process already exists</span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo killall mysqld</span><br></pre></td></tr></table></figure>
<ul>
<li>æè¿°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2017-05-04T01:22:26.486677Z mysqld_safe Logging to &apos;/var/log/mysql/error.log&apos;.</span><br><span class="line">2017-05-04T01:22:26.488204Z mysqld_safe Directory &apos;/var/run/mysqld&apos; for UNIX socket file don&apos;t exists.</span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /var/run/mysqld</span><br><span class="line">sudo chown -R mysql:mysql /var/run/mysqld</span><br></pre></td></tr></table></figure>
<ul>
<li>æè¿°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo /etc/init.d/mysql start</span><br><span class="line">ies: No such file or directory</span><br><span class="line">job-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">[....] Starting mysql (via systemctl): mysql.servicejob-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">Job for mysql.service failed because the control process exited with error code. See &quot;systemctl status mysql.service&quot; and &quot;journalctl -xe&quot; for details.</span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å½“å‰æ–‡ä»¶å¤¹ä¸æ˜¯å®é™…ç›®å½•å¯¼è‡´</span><br><span class="line">cdåˆ°ä¸€ä¸ªå®é™…ç›®å½•ä½ç½®å³å¯</span><br></pre></td></tr></table></figure>
<ul>
<li>æè¿°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/mysql start</span><br><span class="line">shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">job-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">job-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">job-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">job-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">job-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">job-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">job-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">[....] Starting mysql (via systemctl): mysql.servicejob-working-directory: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">Job for mysql.service failed because the control process exited with error code. See &quot;systemctl status mysql.service&quot; and &quot;journalctl -xe&quot; for details.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æŒ‰ç…§æç¤º:See &quot;systemctl status mysql.service&quot; and &quot;journalctl -xe&quot; for details.</span><br><span class="line">ä½†æ˜¯å¹¶ä¹ˆæœ‰ä»€ä¹ˆåµç”¨ï¼Œç›´æ¥çœ‹mysqlçš„logï¼š/var/log/mysql/error.log</span><br><span class="line">2017-05-04T01:37:56.583745Z 0 [Note] InnoDB: Check that you do not already have another mysqld process using the same InnoDB data or log files.</span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ€æ‰æ‰€æœ‰mysqldè¿›ç¨‹ï¼škillall mysqld </span><br><span class="line">å†æ¬¡sudo /etc/init.d/mysql start æˆåŠŸ</span><br></pre></td></tr></table></figure>
<ul>
<li>æè¿°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkgè¢«é”å®š</span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rm /var/cache/apt/archives/lock</span><br><span class="line">sudo rm /var/lib/dpkg/lock</span><br></pre></td></tr></table></figure>

  </section>

</article>

<section class="read-more">
           
    
               
            <div class="read-more-item">
                <span class="read-more-item-dim">æœ€è¿‘çš„æ–‡ç« </span>
                <h2 class="post-list__post-title post-title"><a href="/posts/åŒºå—é“¾æŠ€æœ¯ä¸åº”ç”¨-æ¯”ç‰¹å¸.html" title="ã€åŒºå—é“¾æŠ€æœ¯ä¸åº”ç”¨ã€‘å­¦ä¹ ç¬”è®° - æ¯”ç‰¹å¸">ã€åŒºå—é“¾æŠ€æœ¯ä¸åº”ç”¨ã€‘å­¦ä¹ ç¬”è®° - æ¯”ç‰¹å¸</a></h2>
                <p class="excerpt">
                
                å¹•å¸ƒè§‚çœ‹ï¼šhttps://mubu.com/doc/4EKoyyY1V5_#m



decentralized currency

å¯†ç å­¦éƒ¨åˆ†

åŸç†

collision resistance ï¼ˆé˜²æ­¢ç¢°æ’ï¼‰

hiding ï¼ˆæ— æ³•åå‘æ¨å¯¼ï¼‰

puzzle friendly (æŒ–çŸ¿è¿‡ç¨‹æ²¡æœ‰æ·å¾„)
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2019-05-31T16:00:00.000Z" class="post-list__meta--date date">2019-06-01</time> &#8226; <span class="post-list__meta--tags tags">äº&nbsp;
  <a class="tag-link" href="/all-tags/BlockChain/">BlockChain</a>
</span><a class="btn-border-small" href="/posts/åŒºå—é“¾æŠ€æœ¯ä¸åº”ç”¨-æ¯”ç‰¹å¸.html">ç»§ç»­é˜…è¯»</a></div>
                           
            </div>
        
        
               
            <div class="read-more-item">
                <span class="read-more-item-dim">æ›´æ—©çš„æ–‡ç« </span>
                <h2 class="post-list__post-title post-title"><a href="/posts/Linuxæºç å®‰è£…Nginxå®ç°è´Ÿè½½å‡è¡¡.html" title="Linuxæºç å®‰è£…Nginxå®ç°è´Ÿè½½å‡è¡¡">Linuxæºç å®‰è£…Nginxå®ç°è´Ÿè½½å‡è¡¡</a></h2>
                <p class="excerpt">
                
                æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨Linuxä¸Šå®‰è£…nginxå¹¶å®ç°åœ¨å¤šå°ä¸»æœºä¸Šçš„æœåŠ¡è´Ÿè½½å‡è¡¡ã€‚


ç¯å¢ƒï¼šUbuntu16.04 amd64


æºç å®‰è£…1.ä¸‹è½½è§£å‹
12wget http://nginx.org/download/nginx-1.12.0.tar.gztar zxvf nginx-1.12.0.t
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2017-05-04T16:00:00.000Z" class="post-list__meta--date date">2017-05-05</time> &#8226; <span class="post-list__meta--tags tags">äº&nbsp;
  <a class="tag-link" href="/all-tags/Linux/">Linux</a>
</span><a class="btn-border-small" href="/posts/Linuxæºç å®‰è£…Nginxå®ç°è´Ÿè½½å‡è¡¡.html">ç»§ç»­é˜…è¯»</a></div>
                       
            </div>
        
     
   
   
  
</section>

  

            <footer class="footer">
    <span class="footer__copyright">
        æœ¬ç«™ç‚¹é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a>
    </span>
    <span class="footer__copyright">
        åŸºäº <a href="http://hexo.io">Hexo</a> æ­å»ºï¼Œæ„Ÿè°¢ <a href="https://pages.github.com/">GitHub Pages</a> æä¾›å…è´¹çš„æ‰˜ç®¡æœåŠ¡
    </span>
    <span class="footer__copyright">
        &copy; 2020 - æœ¬ç«™ä½¿ç”¨ <a href="https://github.com/monniya/hexo-theme-new-vno ">new-vno</a> ä¸»é¢˜,
        ç”±<a href="https://monniya.com ">@Monniya</a> ä¿®æ”¹è‡ª <a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">Vno</a>, åŸåˆ›å‡ºè‡ª<a href="http://github.com/onevcat/vno" target="_blank">onevcat</a>
    </span>
    
</footer>


        </div>
    </div>

     
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-177465887-1', 'auto');
	ga('send', 'pageview');
</script>

    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?767de431cc6ed08b9e5abf38b370523b";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>



    
    
</body>
</html>
